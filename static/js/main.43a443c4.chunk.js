(this["webpackJsonpcoin-watch"]=this["webpackJsonpcoin-watch"]||[]).push([[0],{369:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(18),i=a.n(r),s=a(42),l=a.n(s),o=a(62),j=a(27),d=a(192),u=a(420),m=a(421),b=a(419),h=a(406),O=a(409),p=a(424),x=a(425),g=a(405),f=a(426),v=a(427),y=a(422),k=a(423),_=a(186),w=a.n(_).a.create({baseURL:"https://api.coingecko.com/api/v3"}),S=a(29),C=a.n(S),F=(a(365),a(366),a(400)),I=a(38),M=a(403),D=a(429),V=a(411),L=a(407),P=a(408),A=a(410),N=a(100),H=a(99),B=a(3),R=Object(F.a)((function(e){return{chartChangeBtnChecked:{color:e.palette.info.light},daysSelected:{background:e.palette.info.light,"&:hover":{background:e.palette.info.light}},daysBtn:{paddingLeft:"0.1rem",paddingRight:"0.1rem",minWidth:"40px"}}})),U=function(e){var t=e.coin,a=e.currency,r=e.marketData,i=Object(c.useState)([]),s=Object(j.a)(i,2),d=s[0],u=s[1],m=Object(c.useState)(!0),b=Object(j.a)(m,2),p=b[0],x=b[1],f=Object(c.useState)(!1),v=Object(j.a)(f,2),y=v[0],k=v[1],_=Object(c.useState)([!0,!1,!1,!1,!1,!1]),F=Object(j.a)(_,2),U=F[0],z=F[1],E=Object(I.a)(),T=R(),W=new Intl.NumberFormat("en-US",{style:"currency",currency:a,maximumFractionDigits:6}),J=new Intl.NumberFormat(void 0,{maximumFractionDigits:2,style:"percent"});Object(c.useEffect)((function(){x(!0);var e=[1,7,30,180,365,"max"];(function(){var c=Object(o.a)(l.a.mark((function c(){var n,r;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,w.get("/coins/".concat(t,"/ohlc"),{params:{vs_currency:a,days:e[U.indexOf(!0)]}});case 2:n=c.sent,r=n.data.map((function(e){return{date:new Date(e[0]),o:e[1],h:e[2],l:e[3],c:e[4]}})),u(r),x(!1);case 6:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}})()()}),[t,a,U]);var G=function(e){var t=U.map((function(t,a){return a===e}));z(t)};return Object(B.jsxs)(n.a.Fragment,{children:[p&&Object(B.jsx)(M.a,{}),Object(B.jsxs)(g.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(B.jsx)(g.a,{item:!0,children:Object(B.jsxs)(g.a,{container:!0,direction:"row",spacing:2,alignItems:"center",children:[Object(B.jsx)(g.a,{item:!0,children:Object(B.jsx)(D.a,{src:r&&r.image.small})}),Object(B.jsxs)(g.a,{item:!0,children:[Object(B.jsx)(h.a,{children:r&&W.format(r.market_data.current_price[a])}),Object(B.jsxs)(h.a,{style:{display:"flex",color:r&&(r.market_data.price_change_percentage_24h>=0?N.a[400]:H.a[400])},children:[r&&(r.market_data.price_change_percentage_24h>=0?Object(B.jsx)(L.a,{}):Object(B.jsx)(P.a,{})),r&&J.format(r.market_data.price_change_percentage_24h/100)]})]})]})}),Object(B.jsx)(g.a,{item:!0,children:Object(B.jsx)(O.a,{size:"small",disableRipple:!0,className:y?T.chartChangeBtnChecked:"",onClick:function(){k(!y)},children:Object(B.jsx)(A.a,{})})})]}),Object(B.jsxs)(C.a,{id:"chart",theme:"generic.".concat(E.palette.type),title:r&&r.name+" Price",dataSource:d,children:[Object(B.jsx)(S.LoadingIndicator,{show:p}),Object(B.jsx)(S.CommonSeriesSettings,{argumentField:"date",type:y?"":"candlestick"}),Object(B.jsx)(S.Series,{name:r&&r.name,openValueField:"o",highValueField:"h",lowValueField:"l",closeValueField:"c",valueField:"c",children:Object(B.jsx)(S.Reduction,{color:"red"})}),Object(B.jsx)(S.ArgumentAxis,{children:Object(B.jsx)(S.Label,{format:["HH:mm","MMM dd\nHH:mm","MMM dd\nHH:mm","MMM dd","MMM dd","MMM dd"][U.indexOf(!0)]})}),Object(B.jsx)(S.ValueAxis,{position:"left",children:Object(B.jsx)(S.Label,{children:Object(B.jsx)(S.Format,{precision:r&&(r.market_data.current_price[a]>100?0:2),type:"currency",currency:a})})}),Object(B.jsx)(S.Tooltip,{enabled:!0,location:"edge",customizeTooltip:function(e){return{html:"<div><b>".concat(e.originalArgument.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short",hourCycle:"h23"}),"</b><br/><br/>")+(e.openValue?"<b>Open:</b> ".concat(W.format(e.openValue),"<br/>\n<b>Close:</b> ").concat(W.format(e.closeValue),"<br/>\n<b>High:</b> ").concat(W.format(e.highValue),"<br/>\n<b>Low:</b> ").concat(W.format(e.lowValue),"</div>"):"<b>Price:</b> ".concat(W.format(e.value),"</div>"))}}}),Object(B.jsx)(S.Legend,{visible:!1}),Object(B.jsx)(S.ZoomAndPan,{argumentAxis:"both"})]}),Object(B.jsx)("br",{}),Object(B.jsx)(g.a,{container:!0,spacing:1,children:["1D","7D","1M","6M","1Y","All"].map((function(e,t){return Object(B.jsx)(g.a,{item:!0,children:Object(B.jsx)(V.a,{className:"".concat(T.daysBtn).concat(U[t]?" "+T.daysSelected:""),variant:"outlined",onClick:G.bind(undefined,t),children:e},t)},t)}))})]})},z=a(412),E=function(e){var t=e.marketData,a=e.currency,c=e.isLoading,r=new Intl.NumberFormat("en-US",{style:"currency",currency:a,maximumFractionDigits:6}),i=new Intl.NumberFormat(void 0,{maximumFractionDigits:2,style:"percent"}),s=new Intl.NumberFormat,l=[[{name:"Market Cap",value:!c&&r.format(t.market_data.market_cap[a])||"--",percent:!c&&i.format(t.market_data.market_cap_change_percentage_24h/100)||"--"},{name:"All Time High",value:!c&&r.format(t.market_data.ath[a])||"--",percent:!c&&i.format(t.market_data.ath_change_percentage[a]/100)||"--"},{name:"All Time Low",value:!c&&r.format(t.market_data.atl[a])||"--",percent:!c&&i.format(t.market_data.atl_change_percentage[a]/100)||"--"},{name:"Volume",value:!c&&r.format(t.market_data.total_volume[a])||"--"},{name:"Circulating Supply",value:"".concat(c?"-":s.format(t.market_data.circulating_supply)+" ").concat(c?"-":t.symbol.toUpperCase())},{name:"Fully Diluted Valuation",value:!c&&t.market_data.fully_diluted_valuation[a]&&!c&&r.format(t.market_data.fully_diluted_valuation[a])||"--"}]]||!1;return Object(B.jsxs)(n.a.Fragment,{children:[c&&Object(B.jsx)(M.a,{}),l.map((function(e,t){return Object(B.jsx)(g.a,{container:!0,direction:"column",justify:"space-between",spacing:3,children:e.map((function(t,a){return Object(B.jsxs)(g.a,{item:!0,children:[Object(B.jsx)(h.a,{variant:"subtitle2",display:"block",children:t.name}),Object(B.jsx)(h.a,{variant:"h6",display:"block",children:t.value}),t.percent&&Object(B.jsxs)(h.a,{variant:"caption",style:{display:"flex",color:!c&&(t.percent>=0?N.a[400]:H.a[400])},children:[!c&&(t.percent>=0?Object(B.jsx)(L.a,{}):Object(B.jsx)(P.a,{})),t.percent]}),a<e.length-1&&Object(B.jsx)(z.a,{variant:"fullWidth"})]},a)}))},t)}))]})},T=a(78),W=a(413),J=a(414),G=a(415),Y=a(416),Z=a(417),q=a(418),K=a(428),Q=n.a.createContext(null),X=function(e){var t=e.children,a=Object(c.useState)("bitcoin"),n=Object(j.a)(a,2),r=n[0],i=n[1];return Object(B.jsx)(Q.Provider,{value:{coinId:r,setCoinId:i},children:t})},$=Object(F.a)({selected:{backgroundColor:"rgba(100, 181, 246, 0.3)!important"}}),ee=function(e){var t=e.currency,a=Object(c.useState)(null),r=Object(j.a)(a,2),i=r[0],s=r[1],d=Object(c.useState)(1),u=Object(j.a)(d,2),m=u[0],b=u[1],h=Object(c.useState)(10),O=Object(j.a)(h,2),p=O[0],x=O[1],g=Object(c.useState)(!0),f=Object(j.a)(g,2),v=f[0],y=f[1],k=Object(c.useContext)(Q).setCoinId,_=$();Object(c.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var a,c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,w.get("/coins/markets",{params:{vs_currency:t,order:"market_cap_desc",per_page:p,page:m,price_change_percentage:"24h"}});case 3:a=e.sent,c=new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:6}),n=new Intl.NumberFormat(void 0,{maximumFractionDigits:2,style:"percent"}),s(a.data.map((function(e){return t=e.id,a=e.market_cap_rank,r=e.image,i=e.name,s=c.format(e.current_price),l=n.format(e.price_change_percentage_24h/100),o=c.format(e.market_cap),j=c.format(e.total_volume),{id:t,rank:a,image:r,name:i,price:s,priceChange:l,marketCap:o,volume:j,isSelected:!1};var t,a,r,i,s,l,o,j}))),y(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,m,p]);return Object(B.jsxs)(n.a.Fragment,{children:[v&&Object(B.jsx)(M.a,{}),Object(B.jsx)(W.a,{children:Object(B.jsxs)(J.a,{size:"small",children:[Object(B.jsx)(G.a,{children:Object(B.jsxs)(Y.a,{children:[Object(B.jsx)(Z.a,{children:"#"}),Object(B.jsx)(Z.a,{}),Object(B.jsx)(Z.a,{children:"name"}),Object(B.jsx)(Z.a,{children:"price"}),Object(B.jsx)(Z.a,{children:"24h %"}),Object(B.jsx)(Z.a,{children:"market cap"}),Object(B.jsx)(Z.a,{children:"volume"})]})}),Object(B.jsx)(q.a,{children:i&&i.map((function(e,t){return Object(B.jsxs)(Y.a,{hover:!0,onClick:function(e){return function(e,t){var a=i.map((function(e,a){return a===t?Object(T.a)(Object(T.a)({},e),{},{isSelected:!0}):Object(T.a)(Object(T.a)({},e),{},{isSelected:!1})}));s(a),k(a[t].id),window.scroll({top:0,left:0,behavior:"smooth"})}(0,t)},selected:e.isSelected,classes:{selected:_.selected},children:[Object(B.jsx)(Z.a,{children:e.rank}),Object(B.jsx)(Z.a,{children:Object(B.jsx)(D.a,{src:e.image})}),Object(B.jsx)(Z.a,{children:e.name}),Object(B.jsx)(Z.a,{children:e.price}),Object(B.jsx)(Z.a,{children:Object(B.jsxs)("span",{style:{display:"flex",color:e.priceChange.slice(0,-1)>=0?N.a[400]:H.a[400]},children:[e.priceChange.slice(0,-1)>=0?Object(B.jsx)(L.a,{}):Object(B.jsx)(P.a,{}),e.priceChange]})}),Object(B.jsx)(Z.a,{children:e.marketCap}),Object(B.jsx)(Z.a,{children:e.volume})]},e.rank)}))})]})}),Object(B.jsx)(K.a,{component:"div",rowsPerPageOptions:[10,25,50,100],count:200,rowsPerPage:p,page:m-1,onChangePage:function(e,t){b(t+1)},onChangeRowsPerPage:function(e){x(e.target.value),b(1)}})]})};var te=function(){var e=Object(c.useState)(null),t=Object(j.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(!0),s=Object(j.a)(i,2),_=s[0],S=s[1],C=Object(c.useState)(window.localStorage.getItem("theme")||"dark"),F=Object(j.a)(C,2),I=F[0],M=F[1],D=Object(c.useContext)(Q).coinId,V=Object(d.a)({palette:{type:I}});return Object(c.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,w.get("/coins/".concat(D),{params:{localization:!1,tickers:!1,market_data:!0,community_data:!1,developer_data:!1,sparkline:!1}});case 3:t=e.sent,r(t.data),S(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[D]),Object(B.jsx)(n.a.Fragment,{children:Object(B.jsxs)(u.a,{theme:V,children:[Object(B.jsx)(m.a,{color:"default",position:"sticky",style:{marginBottom:V.spacing(1)},children:Object(B.jsxs)(b.a,{variant:"dense",children:[Object(B.jsx)(h.a,{style:{flexGrow:1},children:"Coin Watch"}),Object(B.jsx)(O.a,{onClick:function(e){var t="dark"===I?"light":"dark";window.localStorage.setItem("theme",t),M(t)},children:"dark"!==I?Object(B.jsx)(y.a,{}):Object(B.jsx)(k.a,{})})]})}),Object(B.jsxs)(p.a,{children:[Object(B.jsx)(x.a,{}),Object(B.jsxs)(g.a,{container:!0,spacing:2,justify:"center",direction:"row",children:[Object(B.jsx)(g.a,{item:!0,xs:12,md:9,children:Object(B.jsx)(f.a,{style:{height:"100%",justifyItems:"center"},children:Object(B.jsx)(v.a,{children:Object(B.jsx)(U,{coin:D,currency:"usd",marketData:a})})})}),Object(B.jsx)(g.a,{item:!0,xs:12,md:3,children:Object(B.jsx)(f.a,{children:Object(B.jsx)(v.a,{children:Object(B.jsx)(E,{marketData:a,currency:"usd",isLoading:_})})})}),Object(B.jsx)(g.a,{item:!0,xs:12,children:Object(B.jsx)(f.a,{children:Object(B.jsx)(v.a,{children:Object(B.jsx)(ee,{currency:"usd"})})})})]})]})]})})};i.a.render(Object(B.jsx)(X,{children:Object(B.jsx)(te,{})}),document.getElementById("root"))}},[[369,1,2]]]);
//# sourceMappingURL=main.43a443c4.chunk.js.map