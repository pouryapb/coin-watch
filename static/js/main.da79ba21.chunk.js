(this["webpackJsonpcoin-watch"]=this["webpackJsonpcoin-watch"]||[]).push([[0],{382:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(18),i=a.n(r),s=a(24),o=a(204),l=a(19),j=a(205),u=a(443),d=a(444),b=a(414),m=a(417),h=a(418),p=a(419),O=a(420),x=a(421),g=a(422),f=a(423),y=a(424),v=a(446),k=a(427),_=a(445),w=a(432),C=a(425),S=a(426),F=a(110),I=a(109),P=a(49),L=a.n(P),M=a(66),D=a(199),V=a.n(D).a.create({baseURL:"https://api.coingecko.com/api/v3"}),N=a(2),R=n.a.createContext(null),T=function(e){var t=e.children,a=Object(c.useState)("usd"),n=Object(s.a)(a,2),r=n[0],i=n[1],o=Object(c.useState)(!0),l=Object(s.a)(o,2),j=l[0],u=l[1],d=Object(c.useState)([]),b=Object(s.a)(d,2),m=b[0],h=b[1],p=Object(c.useState)(0),O=Object(s.a)(p,2),x=O[0],g=O[1],f=Object(c.useState)(10),y=Object(s.a)(f,2),v=y[0],k=y[1];Object(c.useEffect)((function(){(function(){var e=Object(M.a)(L.a.mark((function e(){var t,a,c,n,i,s,o,l;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),t=new Intl.NumberFormat("en-US",{style:"currency",currency:r,maximumFractionDigits:6}),a=new Intl.NumberFormat(void 0,{maximumFractionDigits:2,style:"percent"}),e.next=5,V.get("/global");case 5:for(c=e.sent,n=Math.ceil(c.data.data.active_cryptocurrencies/250),i=[],s=1;s<=n;s++)i.push(V.get("/coins/markets",{params:{vs_currency:r,order:"market_cap_desc",per_page:250,page:s,price_change_percentage:"24h"}}));return e.next=11,Promise.all(i);case 11:o=e.sent,l=o.reduce((function(e,t){return e.concat(t.data)}),[]),h(l.map((function(e){return c=e.id,n=e.market_cap_rank,r=e.image,i=e.name,s=t.format(e.current_price),o=a.format(e.price_change_percentage_24h/100),l=t.format(e.market_cap),j=t.format(e.total_volume),{id:c,rank:n,image:r,name:i,price:s,priceChange:o,marketCap:l,volume:j};var c,n,r,i,s,o,l,j}))),u(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]);return Object(N.jsx)(R.Provider,{value:{currency:r,isLoading:j,list:m,page:x,perPage:v,setCurrency:i,setPage:g,setPerPage:k,search:function(e){return m.filter((function(t){return t.name.toLowerCase().startsWith(e.toLowerCase())||t.id.toLowerCase().startsWith(e.toLowerCase())}))}},children:t})},A=function(){var e=Object(c.useContext)(R),t=e.isLoading,a=e.list,n=e.page,r=e.perPage,i=e.setPage,s=e.setPerPage,o=Object(l.f)();return Object(N.jsx)(b.a,{children:Object(N.jsx)(m.a,{children:Object(N.jsxs)(h.a,{children:[Object(N.jsx)(p.a,{children:Object(N.jsxs)(O.a,{size:"small",children:[Object(N.jsx)(x.a,{children:Object(N.jsxs)(g.a,{children:[Object(N.jsx)(f.a,{sortDirection:"asc",children:"#"}),Object(N.jsx)(f.a,{}),Object(N.jsx)(f.a,{children:"name"}),Object(N.jsx)(f.a,{children:"price"}),Object(N.jsx)(f.a,{children:"24h %"}),Object(N.jsx)(f.a,{children:"market cap"}),Object(N.jsx)(f.a,{children:"volume"})]})}),Object(N.jsx)(y.a,{children:a.slice(n*r,n*r+r).map((function(e){return Object(N.jsxs)(g.a,{hover:!0,style:{cursor:"pointer"},onClick:function(t){return a=e.id,void o.push("/coin-watch/".concat(a));var a},children:[Object(N.jsx)(f.a,{children:e.rank}),Object(N.jsx)(f.a,{children:Object(N.jsx)(v.a,{src:e.image})}),Object(N.jsx)(f.a,{children:e.name}),Object(N.jsx)(f.a,{children:e.price}),Object(N.jsx)(f.a,{children:Object(N.jsxs)("span",{style:{display:"flex",color:e.priceChange.slice(0,-1)>=0?F.a[400]:I.a[400]},children:[e.priceChange.slice(0,-1)>=0?Object(N.jsx)(C.a,{}):Object(N.jsx)(S.a,{}),e.priceChange]})}),Object(N.jsx)(f.a,{children:e.marketCap}),Object(N.jsx)(f.a,{children:e.volume})]},e.rank)}))}),Object(N.jsx)(k.a,{children:Object(N.jsx)(g.a,{children:Object(N.jsx)(_.a,{rowsPerPageOptions:[10,25,50,100,250],count:a.length,rowsPerPage:r,page:n,onChangePage:function(e,t){i(t)},onChangeRowsPerPage:function(e){s(e.target.value),i(0)}})})})]})}),t&&Object(N.jsx)(w.a,{})]})})})},H=a(434),B=a(433),W=a(430),E=a(435),U=function(e){var t=e.marketData,a=e.currency,c=e.isLoading,r=new Intl.NumberFormat("en-US",{style:"currency",currency:a,maximumFractionDigits:6}),i=new Intl.NumberFormat(void 0,{maximumFractionDigits:2,style:"percent"}),s=new Intl.NumberFormat,o=Object(B.a)((function(e){return e.breakpoints.down("xs")})),l=[[{name:"Market Cap",value:!c&&r.format(t.market_data.market_cap[a])||"--",percent:!c&&i.format(t.market_data.market_cap_change_percentage_24h/100)||"--"},{name:"All Time High",value:!c&&r.format(t.market_data.ath[a])||"--",percent:!c&&i.format(t.market_data.ath_change_percentage[a]/100)||"--"},{name:"All Time Low",value:!c&&r.format(t.market_data.atl[a])||"--",percent:!c&&i.format(t.market_data.atl_change_percentage[a]/100)||"--"},{name:"Volume",value:!c&&r.format(t.market_data.total_volume[a])||"--"},{name:"Circulating Supply",value:"".concat(c?"-":s.format(t.market_data.circulating_supply)+" ").concat(c?"-":t.symbol.toUpperCase())},{name:"Fully Diluted Valuation",value:!c&&t.market_data.fully_diluted_valuation[a]&&!c&&r.format(t.market_data.fully_diluted_valuation[a])||"--"}]];return Object(N.jsxs)(n.a.Fragment,{children:[c&&Object(N.jsx)(w.a,{}),l.map((function(e,t){return Object(N.jsx)(H.a,{container:!0,direction:"row",justify:"space-between",spacing:3,children:e.map((function(t,a){return Object(N.jsxs)(H.a,{md:4,xs:12,item:!0,children:[Object(N.jsx)(W.a,{variant:"subtitle2",display:"block",children:t.name}),Object(N.jsx)(W.a,{variant:"h6",display:"block",children:t.value}),t.percent&&Object(N.jsxs)(W.a,{variant:"caption",style:{display:"flex",color:!c&&(t.percent>=0?F.a[400]:I.a[400])},children:[!c&&(t.percent>=0?Object(N.jsx)(C.a,{}):Object(N.jsx)(S.a,{})),t.percent]}),o&&a<e.length-1&&Object(N.jsx)(E.a,{variant:"fullWidth"})]},a)}))},t)}))]})},z=a(33),J=a.n(z),G=(a(380),a(381),a(436)),Y=a(44),Z=a(428),q=a(438),K=a(437),Q=Object(G.a)((function(e){return{chartChangeBtnChecked:{color:e.palette.info.light},daysSelected:{background:e.palette.info.light,"&:hover":{background:e.palette.info.light}},daysBtn:{paddingLeft:"0.1rem",paddingRight:"0.1rem",minWidth:"40px"}}})),X=function(e){var t=e.coin,a=e.currency,r=e.marketData,i=Object(c.useState)([]),o=Object(s.a)(i,2),l=o[0],j=o[1],u=Object(c.useState)(!0),d=Object(s.a)(u,2),b=d[0],m=d[1],h=Object(c.useState)(!1),p=Object(s.a)(h,2),O=p[0],x=p[1],g=Object(c.useState)([!0,!1,!1,!1,!1,!1]),f=Object(s.a)(g,2),y=f[0],k=f[1],_=Object(Y.a)(),P=Q(),D=new Intl.NumberFormat("en-US",{style:"currency",currency:a,maximumFractionDigits:6}),R=new Intl.NumberFormat(void 0,{maximumFractionDigits:2,style:"percent"});Object(c.useEffect)((function(){m(!0);var e=[1,7,30,180,365,"max"];(function(){var c=Object(M.a)(L.a.mark((function c(){var n,r;return L.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,V.get("/coins/".concat(t,"/ohlc"),{params:{vs_currency:a,days:e[y.indexOf(!0)]}});case 2:n=c.sent,r=n.data.map((function(e){return{date:new Date(e[0]),o:e[1],h:e[2],l:e[3],c:e[4]}})),j(r),m(!1);case 6:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}})()()}),[t,a,y]);var T=function(e){var t=y.map((function(t,a){return a===e}));k(t)};return Object(N.jsxs)(n.a.Fragment,{children:[b&&Object(N.jsx)(w.a,{}),Object(N.jsxs)(H.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(N.jsx)(H.a,{item:!0,children:Object(N.jsxs)(H.a,{container:!0,direction:"row",spacing:2,alignItems:"center",children:[Object(N.jsx)(H.a,{item:!0,children:Object(N.jsx)(v.a,{src:r&&r.image.small})}),Object(N.jsxs)(H.a,{item:!0,children:[Object(N.jsx)(W.a,{children:r&&D.format(r.market_data.current_price[a])}),Object(N.jsxs)(W.a,{style:{display:"flex",color:r&&(r.market_data.price_change_percentage_24h>=0?F.a[400]:I.a[400])},children:[r&&(r.market_data.price_change_percentage_24h>=0?Object(N.jsx)(C.a,{}):Object(N.jsx)(S.a,{})),r&&R.format(r.market_data.price_change_percentage_24h/100)]})]})]})}),Object(N.jsx)(H.a,{item:!0,children:Object(N.jsx)(Z.a,{size:"small",disableRipple:!0,className:O?P.chartChangeBtnChecked:"",onClick:function(){x(!O)},children:Object(N.jsx)(K.a,{})})})]}),Object(N.jsxs)(J.a,{id:"chart",theme:"generic.".concat(_.palette.type),title:r&&r.name+" Price",dataSource:l,children:[Object(N.jsx)(z.LoadingIndicator,{show:b}),Object(N.jsx)(z.CommonSeriesSettings,{argumentField:"date",type:O?"":"candlestick"}),Object(N.jsx)(z.Series,{name:r&&r.name,openValueField:"o",highValueField:"h",lowValueField:"l",closeValueField:"c",valueField:"c",children:Object(N.jsx)(z.Reduction,{color:"red"})}),Object(N.jsx)(z.ArgumentAxis,{children:Object(N.jsx)(z.Label,{format:["HH:mm","HH:mm\nMMM dd","HH:mm\nMMM dd","MMM dd, yyyy","MMM dd, yyyy","MMM dd, yyyy"][y.indexOf(!0)]})}),Object(N.jsx)(z.ValueAxis,{position:"left",children:Object(N.jsx)(z.Label,{children:Object(N.jsx)(z.Format,{precision:r&&(r.market_data.current_price[a]>100?0:2),type:"currency",currency:a})})}),Object(N.jsx)(z.Tooltip,{enabled:!0,location:"edge",customizeTooltip:function(e){return{html:"<div><b>".concat(e.originalArgument.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short",hourCycle:"h23"}),"</b><br/><br/>")+(e.openValue?"<b>Open:</b> ".concat(D.format(e.openValue),"<br/>\n<b>Close:</b> ").concat(D.format(e.closeValue),"<br/>\n<b>High:</b> ").concat(D.format(e.highValue),"<br/>\n<b>Low:</b> ").concat(D.format(e.lowValue),"</div>"):"<b>Price:</b> ".concat(D.format(e.value),"</div>"))}}}),Object(N.jsx)(z.Legend,{visible:!1}),Object(N.jsx)(z.ZoomAndPan,{argumentAxis:"both"})]}),Object(N.jsx)("br",{}),Object(N.jsx)(H.a,{container:!0,spacing:1,children:["1D","7D","1M","6M","1Y","All"].map((function(e,t){return Object(N.jsx)(H.a,{item:!0,children:Object(N.jsx)(q.a,{className:"".concat(P.daysBtn).concat(y[t]?" "+P.daysSelected:""),variant:"outlined",onClick:T.bind(undefined,t),children:e},t)},t)}))})]})},$=function(e){var t=e.match,a=Object(c.useState)(null),n=Object(s.a)(a,2),r=n[0],i=n[1],o=Object(c.useState)(!0),l=Object(s.a)(o,2),j=l[0],u=l[1],d=t.params.coinId;return Object(c.useEffect)((function(){(function(){var e=Object(M.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,V.get("/coins/".concat(d),{params:{localization:!1,tickers:!1,market_data:!0,community_data:!1,developer_data:!1,sparkline:!1}});case 3:t=e.sent,i(t.data),u(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d]),Object(N.jsx)(b.a,{children:Object(N.jsxs)(H.a,{container:!0,spacing:2,justify:"center",direction:"row",children:[Object(N.jsx)(H.a,{item:!0,xs:12,children:Object(N.jsx)(m.a,{style:{height:"100%",justifyItems:"center"},children:Object(N.jsx)(h.a,{children:Object(N.jsx)(X,{coin:d,currency:"usd",marketData:r})})})}),Object(N.jsx)(H.a,{item:!0,xs:12,children:Object(N.jsx)(m.a,{children:Object(N.jsx)(h.a,{children:Object(N.jsx)(U,{marketData:r,currency:"usd",isLoading:j})})})})]})})},ee=a(136),te=a(17),ae=a(439),ce=a(429),ne=a(448),re=a(207),ie=a(431),se=a(447),oe=a(440),le=a(441),je=a(442),ue=Object(G.a)((function(e){return{search:Object(ee.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(te.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(te.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(ee.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}})),de=function(e){var t=e.themeType,a=e.setThemeType,n=ue(),r=Object(c.useContext)(R).search,i=Object(c.useState)([]),o=Object(s.a)(i,2),j=o[0],u=o[1],d=Object(c.useState)(!1),m=Object(s.a)(d,2),h=m[0],p=m[1],O=Object(c.useState)(""),x=Object(s.a)(O,2),g=x[0],f=x[1],y=Object(l.f)(),k=Object(Y.a)();return Object(N.jsx)(ae.a,{color:"default",position:"sticky",style:{marginBottom:k.spacing(1)},children:Object(N.jsx)(b.a,{children:Object(N.jsxs)(ce.a,{children:[Object(N.jsx)(W.a,{style:{flexGrow:1,cursor:"pointer"},onClick:function(){return y.push("/coin-watch")},children:"Coin Watch"}),Object(N.jsxs)("div",{className:n.search,children:[Object(N.jsx)("div",{className:n.searchIcon,children:Object(N.jsx)(oe.a,{})}),Object(N.jsx)(ne.a,{placeholder:"Search\u2026",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){var t=e.target.value;f(t);var a=r(t);if(t.length<2||0===a.length)return p(!1),void u([]);u(a.slice(0,10)),p(!0)},value:g}),Object(N.jsx)("pre",{style:{position:"absolute",width:"100%",display:h?"block":"none"},children:Object(N.jsx)(re.a,{elevation:3,children:Object(N.jsx)(ie.a,{children:j.map((function(e,t){return Object(N.jsxs)(se.a,{style:{cursor:"pointer"},onClick:function(){y.push("/coin-watch/".concat(e.id)),p(!1),f("")},children:[Object(N.jsx)(v.a,{src:e.image,style:{marginRight:k.spacing(1)}}),Object(N.jsx)(W.a,{variant:"caption",noWrap:!0,children:e.name})]},t)}))})})})]}),Object(N.jsx)(Z.a,{onClick:function(e){var c="dark"===t?"light":"dark";window.localStorage.setItem("theme",c),a(c)},children:"dark"!==t?Object(N.jsx)(le.a,{}):Object(N.jsx)(je.a,{})})]})})})};var be=function(){var e=Object(c.useState)(window.localStorage.getItem("theme")||"dark"),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(j.a)({palette:{type:a}});return Object(N.jsx)(n.a.Fragment,{children:Object(N.jsx)(u.a,{theme:i,children:Object(N.jsxs)(o.a,{children:[Object(N.jsx)(de,{themeType:a,setThemeType:r}),Object(N.jsx)(d.a,{}),Object(N.jsxs)(l.c,{children:[Object(N.jsx)(l.a,{exact:!0,path:"/coin-watch",component:A}),Object(N.jsx)(l.a,{path:"/coin-watch/:coinId",component:$})]})]})})})};i.a.render(Object(N.jsx)(T,{children:Object(N.jsx)(be,{})}),document.getElementById("root"))}},[[382,1,2]]]);
//# sourceMappingURL=main.da79ba21.chunk.js.map